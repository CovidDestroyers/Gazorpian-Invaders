{"version":3,"sources":["webpack://gazorpian-invaders/./public/js/auth/login.js"],"names":["$","userName","getInputValue","password","Promise","resolve","setTimeout","removeAttr","click","event","preventDefault","addSpinner","postLoginData","backEndResponse","status","data","addWarningAlert","username","highScore","addCardBody","prop","replaceContent","val","addFailureAlert"],"mappings":"iKAaAA,GAAE,WACA,IAAIC,GAAWC,QAAc,YACzBC,GAAWD,QAAc,aAE7B,gCAAC,gGACqB,KAAbD,GAAgC,KAAbE,EAD3B,uBAEGF,GAAWC,QAAc,YACzBC,GAAWD,QAAc,YAH5B,SAKS,IAAIE,SAAQ,SAACC,GACjBC,WAAWD,EAAS,QANzB,sDAUQL,EAAE,aAAaO,WAAW,aAVlC,0CAAD,GAaAP,EAAE,aAAaQ,MAAf,kDAAqB,WAAOC,GAAP,qGACnBA,EAAMC,iBADa,UAIjBC,QAAW,YAJM,UAMaC,QAAc,eAN3B,OAMXC,EANW,OAUF,aAFPC,EAAWD,EAAgBE,KAA3BD,SAGNE,QAAgB,YAAaF,IACxB,EAC2BD,EAAgBE,KAAxCE,EADH,EACGA,SAAUC,EADb,EACaA,WAElBC,QAAY,gBAAiBF,EAAUC,GAEvClB,EAAE,WAAWoB,KAAK,UAAU,GAC5BpB,EAAE,UAAUoB,KAAK,UAAU,GAC3BpB,EAAE,WAAWO,WAAW,UAExBP,EAAE,eAAeQ,UAGnBa,QAAe,WAAY,WAE3BrB,EAAE,aAAasB,IAAI,IACnBtB,EAAE,aAAasB,IAAI,IA3BF,mDA8BjBD,QAAe,WAAY,UAC3BE,QAAgB,aA/BC,0DAArB,4D","file":"login.645e5a2b993c758e6ce1.js","sourcesContent":["/* eslint-disable import/extensions, no-undef */\nimport 'regenerator-runtime/runtime.js';\n\nimport {\n  getInputValue,\n  postLoginData,\n  addFailureAlert,\n  addSpinner,\n  replaceContent,\n  addWarningAlert,\n  addCardBody\n} from './authMe.js';\n\n$(() => {\n  let userName = getInputValue('username');\n  let password = getInputValue('password');\n\n  (async () => {\n    while (userName === '' || password === '') {\n      userName = getInputValue('username');\n      password = getInputValue('password');\n      // eslint-disable-next-line no-await-in-loop\n      await new Promise((resolve) => {\n        setTimeout(resolve, 1000);\n      });\n    }\n\n    return $('#loginBtn').removeAttr('disabled');\n  })();\n\n  $('#loginBtn').click(async (event) => {\n    event.preventDefault();\n\n    try {\n      addSpinner('loginBtn');\n\n      const backEndResponse = await postLoginData('/auth/login');\n\n      const { status } = backEndResponse.data;\n\n      if (status !== 'success') {\n        addWarningAlert('loginForm', status);\n      } else {\n        const { username, highScore } = backEndResponse.data;\n\n        addCardBody('username-card', username, highScore);\n\n        $('#signup').prop('hidden', true);\n        $('#login').prop('hidden', true);\n        $('#logout').removeAttr('hidden');\n\n        $('#loginClose').click();\n      }\n\n      replaceContent('loginBtn', 'Sign Up');\n\n      $('#username').val('');\n      $('#password').val('');\n      // display username => 'Welcome username'\n    } catch (error) {\n      replaceContent('loginBtn', 'Login');\n      addFailureAlert('loginForm');\n    }\n  });\n});\n"],"sourceRoot":""}